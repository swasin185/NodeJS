var baseInput=document.getElementById("baseInput"),numInput=document.getElementById("numInput"),baseConvert=document.getElementById("baseConvert"),numConvert=document.getElementById("numConvert"),fracConvert=document.getElementById("fracConvert"),aText=document.getElementById("a"),bText=document.getElementById("b"),gcdText=document.getElementById("gcd");Big.DP=50;var digits=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];function calculate(){for(var e=Number(baseInput.value),o=numInput.value,t=o.length,n=0;n<o.length&&t==o.length;n++)-1==valueOf(o[n],e)&&(t=n);var l=o.substring(0,t),g=o.substring(t,o.length),r=new Big(0);console.log(l);for(var u=0;u<l.length;u++)console.log(r.toFixed(),"x",e,"+",valueOf(l[u],e)),r=(r=r.mul(e)).add(valueOf(l[u],e));console.log("value=",r.toFixed());var d=new Big(0);console.log(g);for(var a=g.length-1;0<a;a--)console.log(d.toFixed(),"+",valueOf(g[a],e),"/",e),d=(d=d.add(valueOf(g[a],e))).div(e);console.log("fraction=",d.toFixed()),r=r.add(d),console.log("value10 = ",r.toFixed()),e=Number(baseConvert.value),console.log("convert...");var i=r.round(0,0),v=r.minus(i),l="";for(console.log(i.toFixed());i.gt(0)&&l.length<Big.DP;)console.log(i.mod(e).toNumber(),"\t",i.toFixed(),"/",e),l=digits[i.mod(e).toNumber()]+l,i=i.div(e).round(0,0);console.log(l);for(var c="",m=l.length-1;0<=m;m--)c=l[m]+c,(l.length-m)%4==0&&(c=" "+c);l=""==c?"0":c,g=".",console.log(v.toFixed());for(var s=0;v.gt(0)&&g.length<Big.DP;)s++,console.log(v.toFixed(),"x",e),v=v.mul(e),g+=digits[v.round(0,0).toNumber()],s%4==0&&(g+=" "),v=v.mod(1);v.gt(0)&&(g+="..."),console.log(g),numConvert.value=l,fracConvert.value=g}function valueOf(e,o){for(var t=-1,n=0;n<digits.length&&-1==t;n++)e.toUpperCase()==digits[n]&&n<o&&(t=n);if(-1==t&&"."!=e)throw new Error("Digit Error!!");return t}function gcd(){var e=new Big(aText.value),o=new Big(bText.value),t=o;for(o.gt(e)&&(o=e,e=t,t=o);!o.eq(0);)t=e.mod(o),e=o,o=t,console.log(e.toFixed(),o.toFixed());gcdText.value=e.toFixed().toString()}