var baseInput=document.getElementById("baseInput"),numInput=document.getElementById("numInput"),baseConvert=document.getElementById("baseConvert"),numConvert=document.getElementById("numConvert"),fracConvert=document.getElementById("fracConvert"),aText=document.getElementById("a"),bText=document.getElementById("b"),gcdText=document.getElementById("gcd"),ratio=document.getElementById("ratio");Big.DP=50;var digits=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];function calculate(){console.log("-------------- CONVERT ----------------");for(var e=Number(baseInput.value),o=numInput.value,t=o.length,n=0;n<o.length&&t==o.length;n++)-1==valueOf(o[n],e)&&(t=n);var l=o.substring(0,t),d=o.substring(t,o.length),g=new Big(0);console.log(l);for(var r=0;r<l.length;r++)console.log(g.toFixed(),"x",e,"+",valueOf(l[r],e)),g=(g=g.mul(e)).add(valueOf(l[r],e));console.log("value=",g.toFixed());var u=new Big(0);console.log(d);for(var i=d.length-1;0<i;i--)console.log(u.toFixed(),"+",valueOf(d[i],e),"/",e),u=(u=u.add(valueOf(d[i],e))).div(e);console.log("fraction=",u.toFixed()),g=g.add(u),console.log("value10 = ",g.toFixed()),e=Number(baseConvert.value);var a=g.round(0,0),v=g.minus(a),l="";for(console.log(a.toFixed());a.gt(0)&&l.length<Big.DP;)console.log(a.mod(e).toNumber(),"\t",a.toFixed(),"/",e),l=digits[a.mod(e).toNumber()]+l,a=a.div(e).round(0,0);console.log(l);for(var c="",m=l.length-1;0<=m;m--)c=l[m]+c,(l.length-m)%4==0&&(c=" "+c);l=""==c?"0":c,d=".",console.log(v.toFixed());for(var s=0;v.gt(0)&&d.length<Big.DP;)s++,console.log(v.toFixed(),"x",e),v=v.mul(e),d+=digits[v.round(0,0).toNumber()],s%4==0&&(d+=" "),v=v.mod(1);v.gt(0)&&(d+="..."),console.log(d),numConvert.value=l,fracConvert.value=d}function valueOf(e,o){for(var t=-1,n=0;n<digits.length&&-1==t;n++)e.toUpperCase()==digits[n]&&n<o&&(t=n);if(-1==t&&"."!=e)throw new Error("Digit Error!!");return t}function gcd(){console.log("---------------- GCD -----------------");var e=new Big(aText.value),o=new Big(bText.value),t=e,n=o,l=n;n.gt(t)&&(n=t,t=l,l=n);Big(0);for(var d="";!n.eq(0);)""==d&&t.div(n).gt(n.mul(1e3))&&(d=e.div(t).round(0,0).toFixed()+"/"+o.div(t).round(0,0).toFixed()),console.log(t.toFixed(),n.toFixed()),l=t.mod(n),t=n,n=l;gcdText.value=t.toFixed().toString(),""==d&&(d=e.div(t).round(0,0).toFixed()+"/"+o.div(t).round(0,0).toFixed()),ratio.value=d}