var baseInput=document.getElementById("baseInput"),numInput=document.getElementById("numInput"),baseConvert=document.getElementById("baseConvert"),numConvert=document.getElementById("numConvert"),fracConvert=document.getElementById("fracConvert");Big.DP=50;var digits=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];function calculate(){for(var e=Number(baseInput.value),o=numInput.value,t=o.length,n=0;n<o.length&&t==o.length;n++)-1==valueOf(o[n],e)&&(t=n);var l=o.substring(0,t),r=o.substring(t,o.length),u=new Big(0);console.log(l);for(var g=0;g<l.length;g++)console.log(u.toFixed(),"x",e,"+",valueOf(l[g],e)),u=(u=u.mul(e)).add(valueOf(l[g],e));console.log("value=",u.toFixed());var a=new Big(0);console.log(r);for(var d=r.length-1;0<d;d--)console.log(a.toFixed(),"+",valueOf(r[d],e),"/",e),a=(a=a.add(valueOf(r[d],e))).div(e);console.log("fraction=",a.toFixed()),u=u.add(a),console.log("value10 = ",u.toFixed()),e=Number(baseConvert.value),console.log("convert...");var v=u.round(0,0),i=u.minus(v),l="";for(console.log(v.toFixed());v.gt(0)&&l.length<Big.DP;)console.log(v.mod(e).toNumber(),"\t",v.toFixed(),"/",e),l=digits[v.mod(e).toNumber()]+l,v=v.div(e).round(0,0);console.log(l);for(var s="",c=l.length-1;0<=c;c--)s=l[c]+s,(l.length-c)%4==0&&(s=" "+s);l=""==s?"0":s,r=".",console.log(i.toFixed());for(var m=0;i.gt(0)&&r.length<Big.DP;)m++,console.log(i.toFixed(),"x",e),i=i.mul(e),r+=digits[i.round(0,0).toNumber()],m%4==0&&(r+=" "),i=i.mod(1);i.gt(0)&&(r+="..."),console.log(r),numConvert.value=l,fracConvert.value=r}function valueOf(e,o){for(var t=-1,n=0;n<digits.length&&-1==t;n++)e.toUpperCase()==digits[n]&&n<o&&(t=n);if(-1==t&&"."!=e)throw new Error("Digit Error!!");return t}