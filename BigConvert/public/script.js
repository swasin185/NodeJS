var baseInput=document.getElementById("baseInput"),numInput=document.getElementById("numInput"),baseConvert=document.getElementById("baseConvert"),numConvert=document.getElementById("numConvert");Big.DP=50;var digits=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];function calculate(){for(var e=Number(baseInput.value),o=numInput.value,n=o.length,t=0;t<o.length&&n==o.length;t++)-1==valueOf(o[t],e)&&(n=t);var l=o.substring(0,n),u=o.substring(n,o.length),g=new Big(0);console.log(l);for(t=0;t<l.length;t++)console.log(g.toFixed(),"x",e,"+",valueOf(l[t],e)),g=(g=g.mul(e)).add(valueOf(l[t],e));console.log("value=",g.toFixed());var r=new Big(0);console.log(u);for(t=u.length-1;0<t;t--)console.log(r.toFixed(),"+",valueOf(u[t],e),"/",e),r=(r=r.add(valueOf(u[t],e))).div(e);console.log("fraction=",r.toFixed()),g=g.add(r),console.log("value10 = ",g.toFixed()),e=Number(baseConvert.value),console.log("convert...");var d=g.round(0,0),i=g.minus(d),l="";for(console.log(d.toFixed());d.gt(0)&&l.length<Big.DP;)console.log(d.mod(e).toNumber(),"\t",d.toFixed(),"/",e),l=digits[d.mod(e).toNumber()]+l,d=d.div(e).round(0,0);for(console.log(l),u=".",console.log(i.toFixed());i.gt(0)&&u.length<Big.DP;)console.log(i.toFixed(),"x",e),i=i.mul(e),u+=digits[i.round(0,0).toNumber()],i=i.mod(1);"."==u?u="":i.gt(0)&&(u+="..."),console.log(u),numConvert.value=l+u}function valueOf(e,o){for(var n=-1,t=0;t<digits.length&&-1==n;t++)e.toUpperCase()==digits[t]&&t<=o&&(n=t);if(-1==n&&"."!=e)throw new Error("Digit Error!!");return n}